# chezmoi:template:left-delimiter="# [[" right-delimiter="]] #"
# [[ if eq .chezmoi.os "linux" ]] #
# External dependencies managed by chezmoi for Linux systems
# Reference: https://www.chezmoi.io/reference/special-files-and-directories/chezmoiexternal-format/

# [[ $rustArch := (eq .chezmoi.arch "amd64" | ternary "x86_64" "aarch64") ]] #
# [[ $fzfArch := (eq .chezmoi.arch "amd64" | ternary "amd64" "arm64") ]] #
# [[ $libc := "gnu" ]] #
# [[ if eq .chezmoi.arch "arm64" ]] #
#   [[ $libc = "musl" ]] #
# [[ end ]] #

# Neovim AppImage
[".local/bin/nvim"]
  type = "file"
  url = # [[ printf "https://github.com/neovim/neovim/releases/download/stable/nvim-linux-%s.appimage" (eq .chezmoi.arch "amd64" | ternary "x86_64" "arm64") | quote ]] #
  refreshPeriod = "672h"
  executable = true

# eza - A modern replacement for 'ls'
[".local/bin/eza"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "eza-community/eza" (printf "eza_%s-unknown-linux-gnu.zip" $rustArch) | quote ]] #
  executable = true
  path = "./eza"

# bat - A cat clone with syntax highlighting
[".local/bin/bat"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "sharkdp/bat" (printf "bat-*-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "*/bat"

# fd - A simple, fast and user-friendly alternative to 'find'
[".local/bin/fd"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "sharkdp/fd" (printf "fd-*-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "*/fd"

# difftastic - A structural diff tool
[".local/bin/difft"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "Wilfred/difftastic" (printf "difft-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "./difft"

# mergiraf - A syntax-aware merge tool
[".local/bin/mergiraf"]
  type = "archive-file"
  url = # [[ printf "https://codeberg.org/mergiraf/mergiraf/releases/download/v0.16.1/mergiraf_%s-unknown-linux-gnu.tar.gz" $rustArch | quote ]] #
  executable = true
  path = "./mergiraf"

# zellij - A terminal workspace with batteries included
[".local/bin/zellij"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "zellij-org/zellij" (printf "zellij-%s-unknown-linux-musl.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "zellij"

# starship - The minimal, blazing-fast, and infinitely customizable prompt for any shell
[".local/bin/starship"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "starship/starship" (printf "starship-%s-unknown-linux-musl.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "starship"

# ghostty - A fast, feature-rich, and cross-platform terminal emulator
[".local/bin/ghostty"]
  type = "file"
  url = # [[ gitHubLatestReleaseAssetURL "pkgforge-dev/ghostty-appimage" (printf "Ghostty-*-%s.AppImage" $rustArch) | quote ]] #
  executable = true

# fzf - A command-line fuzzy finder
[".local/bin/fzf"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "junegunn/fzf" (printf "fzf-*-%s_%s.tar.gz" "linux" $fzfArch) | quote ]] #
  executable = true
  path = "fzf"

# atuin - Magical shell history
[".local/bin/atuin"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "atuinsh/atuin" (printf "atuin-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "*/atuin"

# zoxide - A smarter cd command
[".local/bin/zoxide"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "ajeetdsouza/zoxide" (printf "zoxide-*-%s-unknown-linux-musl.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "zoxide"

# uv - An extremely fast Python package installer and resolver
[".local/bin/uv"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "astral-sh/uv" (printf "uv-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "*/uv"

[".local/bin/uvx"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "astral-sh/uv" (printf "uv-%s-unknown-linux-gnu.tar.gz" $rustArch) | quote ]] #
  executable = true
  path = "*/uvx"

# direnv - Unclutter your .profile
[".local/bin/direnv"]
  type = "file"
  url = # [[ gitHubLatestReleaseAssetURL "direnv/direnv" (printf "direnv.linux-%s" .chezmoi.arch) | quote ]] #
  executable = true

# WezTerm - Terminal emulator and multiplexer (Ubuntu 22.04 default for all Linux)
[".local/bin/wezterm"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "wez/wezterm" "wezterm-*.Ubuntu22.04.tar.xz" | quote ]] #
  executable = true
  path = "wezterm/usr/bin/wezterm"

[".local/bin/wezterm-mux-server"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "wez/wezterm" "wezterm-*.Ubuntu22.04.tar.xz" | quote ]] #
  executable = true
  path = "wezterm/usr/bin/wezterm-mux-server"

[".local/bin/wezterm-gui"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "wez/wezterm" "wezterm-*.Ubuntu22.04.tar.xz" | quote ]] #
  executable = true
  path = "wezterm/usr/bin/wezterm-gui"

[".local/bin/strip-ansi-escapes"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "wez/wezterm" "wezterm-*.Ubuntu22.04.tar.xz" | quote ]] #
  executable = true
  path = "wezterm/usr/bin/strip-ansi-escapes"

[".local/bin/open-wezterm-here"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "wez/wezterm" "wezterm-*.Ubuntu22.04.tar.xz" | quote ]] #
  executable = true
  path = "wezterm/usr/bin/open-wezterm-here"

# Git LFS - Git extension for versioning large files
[".local/bin/git-lfs"]
  type = "archive-file"
  url = # [[ gitHubLatestReleaseAssetURL "git-lfs/git-lfs" (printf "git-lfs-linux-%s-*.tar.gz" .chezmoi.arch) | quote ]] #
  executable = true
  path = "*/git-lfs"

# [[ end ]] #